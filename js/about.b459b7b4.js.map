{"version":3,"sources":["webpack:///./src/views/About.vue?f952","webpack:///./src/views/About.vue?8fad","webpack:///./src/views/About.vue","webpack:///./src/views/About.vue?aa81"],"names":["class","content","api-key","apiKey","init","name","components","Editor","setup","tiny","language","placeholder","min_width","min_height","height","resize","branding","font_formats","plugins","toolbar","paste_data_images","images_upload_handler","blobInfo","success","failure","reader","FileReader","readAsDataURL","blob","onloadend","imgbase64","result","file_picker_types","file_picker_callback","callback","value","meta","filetype","inputElem","document","createElement","setAttribute","click","onchange","file","files","onload","id","Date","getTime","blobCache","tinymce","activeEditor","editorUpload","base64","split","create","add","console","log","blobUri","title","__exports__","render"],"mappings":"yGAAA,W,6DCAA,W,wLCCE,eAEI,KAFDA,MAAM,QAAO,oEAEhB,M,GACKA,MAAM,gB,2GAHX,EAGA,eAEM,MAFN,EAEM,CADJ,eAA2D,G,WAA1C,EAAAC,Q,qDAAA,EAAAA,QAAO,IAAGC,UAAS,EAAAC,OAASC,KAAM,EAAAA,M,uHAQxC,GACbC,KAAM,QACNC,WAAY,CACVC,OAAA,QAEFC,MALa,WAMX,IAAMP,EAAU,eAAI,mBACdQ,EAAO,eAAS,CACpBN,OAAQ,mDACRC,KAAM,CACJM,SAAU,QACVC,YAAa,UACbC,UAAW,IACXC,WAAY,IACZC,OAAQ,IACRC,OAAQ,OACRC,UAAU,EAIVC,aACE,0QACFC,QACE,wPACFC,QAAS,CACP,uQACA,kOAMFC,mBAAmB,EAEnBC,sBAAuB,SAACC,EAAUC,EAASC,GAEzC,IAAIC,EAAS,IAAIC,WACjBD,EAAOE,cAAcL,EAASM,QAC9BH,EAAOI,UAAY,WACjB,IAAMC,EAAYL,EAAOM,OACzBR,EAAQO,KAIZE,kBAAmB,mBAEnBC,qBAAsB,SAAUC,EAAUC,EAAOC,GAG/C,IAAIC,EAEFA,EADmB,SAAjBD,EAAKC,SACI,sCACe,SAAjBD,EAAKC,SACH,yBAGT,sHAGJ,IAAIC,EAAYC,SAASC,cAAc,SACvCF,EAAUG,aAAa,OAAQ,QAC/BH,EAAUG,aAAa,SAAUJ,GACjCC,EAAUI,QACVJ,EAAUK,SAAW,WACnB,IAAIC,EAAON,EAAUO,MAAM,GAGvBpB,EAAS,IAAIC,WACjBD,EAAOE,cAAciB,GACrBnB,EAAOqB,OAAS,WAId,IAAIC,EAAK,UAAW,IAAIC,MAAOC,UAC3BC,EAAYC,QAAQC,aAAaC,aAAaH,UAC9CI,EAAS7B,EAAOM,OAAOwB,MAAM,KAAK,GAClCjC,EAAW4B,EAAUM,OAAOT,EAAIH,EAAMU,GAC1CJ,EAAUO,IAAInC,GACdoC,QAAQC,IAAIrC,EAASsC,WAGrB1B,EAASZ,EAASsC,UAAW,CAAEC,MAAOjB,EAAKvC,aAMrD,uBACEJ,WACG,eAAOQ,M,2CC9FhB,MAAMqD,EAA2B,IAAgB,EAAQ,CAAC,CAAC,SAASC,GAAQ,CAAC,YAAY,qBAE1E","file":"js/about.b459b7b4.js","sourcesContent":["export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--7-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--7-oneOf-1-1!../../node_modules/vue-loader-v16/dist/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--7-oneOf-1-2!../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../node_modules/vue-loader-v16/dist/index.js??ref--1-1!./About.vue?vue&type=style&index=0&id=38c53b73&scoped=true&lang=css\"","export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--7-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--7-oneOf-1-1!../../node_modules/vue-loader-v16/dist/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--7-oneOf-1-2!../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../node_modules/vue-loader-v16/dist/index.js??ref--1-1!./About.vue?vue&type=style&index=1&id=38c53b73&lang=css\""," <template>\n  <p class=\"tipx\">\n    最开始引入tinymce时是这个页面写的，/src/components/Tinymce.vue是基于这里的内容封装分出去的\n  </p>\n  <div class=\"tinymce-boxz\">\n    <Editor v-model=\"content\" :api-key=\"apiKey\" :init=\"init\" />\n  </div>\n</template>\n\n<script>\nimport Editor from \"@tinymce/tinymce-vue\";\nimport { reactive, ref, toRefs } from \"@vue/reactivity\";\n\nexport default {\n  name: \"About\",\n  components: {\n    Editor,\n  },\n  setup() {\n    const content = ref(\"默认文字 hello word\");\n    const tiny = reactive({\n      apiKey: \"qagffr3pkuv17a8on1afax661irst1hbr4e6tbv888sz91jc\", //https://github.com/tinymce/tinymce-vue/blob/main/src/demo/views/Iframe.vue\n      init: {\n        language: \"zh_CN\", //语言类型\n        placeholder: \"在这里输入文字\", //textarea中的提示信息\n        min_width: 320,\n        min_height: 220,\n        height: 500, //注：引入autoresize插件时，此属性失效\n        resize: \"both\", //编辑器宽高是否可变，false-否,true-高可变，'both'-宽高均可，注意引号\n        branding: false, //tiny技术支持信息是否显示\n        // statusbar: false,  //最下方的元素路径和字数统计那一栏是否显示\n        // elementpath: false, //元素路径是否显示\n\n        font_formats:\n          \"微软雅黑=Microsoft YaHei,Helvetica Neue,PingFang SC,sans-serif;苹果苹方=PingFang SC,Microsoft YaHei,sans-serif;宋体=simsun,serif;仿宋体=FangSong,serif;黑体=SimHei,sans-serif;Arial=arial,helvetica,sans-serif;Arial Black=arial black,avant garde;Book Antiqua=book antiqua,palatino;\", //字体样式\n        plugins:\n          \"print preview searchreplace autolink directionality visualblocks visualchars fullscreen image link media template code codesample table charmap hr pagebreak nonbreaking anchor insertdatetime advlist lists wordcount textpattern autosave emoticons\", //插件配置 axupimgs indent2em\n        toolbar: [\n          \"fullscreen undo redo restoredraft | cut copy paste pastetext | forecolor backcolor bold italic underline strikethrough link anchor | alignleft aligncenter alignright alignjustify outdent indent | bullist numlist | blockquote subscript superscript removeformat \",\n          \"styleselect formatselect fontselect fontsizeselect |  table image axupimgs media emoticons charmap hr pagebreak insertdatetime  selectall visualblocks searchreplace | code print preview | indent2em lineheight formatpainter\",\n        ], //工具栏配置，设为false则隐藏\n        // menubar: \"file edit my1\", //菜单栏配置，设为false则隐藏，不配置则默认显示全部菜单，也可自定义配置--查看 http://tinymce.ax-z.cn/configure/editor-appearance.php --搜索“自定义菜单”\n\n        // images_upload_url: '/apib/api-upload/uploadimg',  //后端处理程序的url，建议直接自定义上传函数image_upload_handler，这个就可以不用了\n        // images_upload_base_path: '/demo',  //相对基本路径--关于图片上传建议查看--http://tinymce.ax-z.cn/general/upload-images.php\n        paste_data_images: true, //图片是否可粘贴\n        //此处为图片上传处理函数\n        images_upload_handler: (blobInfo, success, failure) => {\n          // 这里用base64的图片形式上传图片,包括多图上传也是\n          let reader = new FileReader(); //本地预览\n          reader.readAsDataURL(blobInfo.blob());\n          reader.onloadend = function () {\n            const imgbase64 = reader.result;\n            success(imgbase64);\n          };\n        },\n\n        file_picker_types: \"file image media\", //file image media分别对应三个类型文件的上传：link插件，image和axupimgs插件，media插件。想屏蔽某个插件的上传就去掉对应的参数\n        // 文件上传处理函数\n        file_picker_callback: function (callback, value, meta) {\n          // 使用案例http://tinymce.ax-z.cn/general/upload-images.php\n          // meta.filetype  //根据这个判断点击的是什么file image media\n          let filetype; //限制文件的上传类型,需要什么就添加什么的后缀\n          if (meta.filetype == \"image\") {\n            filetype = \".jpg, .jpeg, .png, .gif, .ico, .svg\";\n          } else if (meta.filetype == \"media\") {\n            filetype = \".mp3, .mp4, .avi, .mov\";\n          } else {\n            filetype =\n              \".pdf, .txt, .zip, .rar, .7z, .doc, .docx, .xls, .xlsx, .ppt, .pptx, .mp3, .mp4, .jpg, .jpeg, .png, .gif, .ico, .svg\";\n          }\n\n          let inputElem = document.createElement(\"input\"); //创建文件选择\n          inputElem.setAttribute(\"type\", \"file\");\n          inputElem.setAttribute(\"accept\", filetype);\n          inputElem.click();\n          inputElem.onchange = () => {\n            let file = inputElem.files[0]; //获取文件信息\n\n            // 所有都转成base64文件流,来自官方文档https://www.tiny.cloud/docs/configure/file-image-upload/#file_picker_callback\n            let reader = new FileReader();\n            reader.readAsDataURL(file);\n            reader.onload = function () {\n              // Note: Now we need to register the blob in TinyMCEs image blob\n              // registry. In the next release this part hopefully won't be\n              // necessary, as we are looking to handle it internally.\n              let id = \"blobid\" + new Date().getTime();\n              let blobCache = tinymce.activeEditor.editorUpload.blobCache;\n              let base64 = reader.result.split(\",\")[1];\n              let blobInfo = blobCache.create(id, file, base64);\n              blobCache.add(blobInfo);\n              console.log(blobInfo.blobUri());\n\n              // call the callback and populate the Title field with the file name\n              callback(blobInfo.blobUri(), { title: file.name });\n            };\n          };\n        },\n      },\n    });\n    return {\n      content,\n      ...toRefs(tiny),\n    };\n  },\n};\n</script>\n<style scoped>\n.tinymce-boxz > textarea {\n  display: none;\n}\n</style>\n<style>\n/* 隐藏apikey没有绑定这个域名的提示 */\n.tox-notifications-container .tox-notification--warning {\n  display: none !important;\n}\n\n.tox.tox-tinymce {\n  max-width: 100%;\n}\n</style>","import { render } from \"./About.vue?vue&type=template&id=38c53b73&scoped=true\"\nimport script from \"./About.vue?vue&type=script&lang=js\"\nexport * from \"./About.vue?vue&type=script&lang=js\"\n\nimport \"./About.vue?vue&type=style&index=0&id=38c53b73&scoped=true&lang=css\"\nimport \"./About.vue?vue&type=style&index=1&id=38c53b73&lang=css\"\n\nimport exportComponent from \"E:\\\\tinymce-vue3\\\\node_modules\\\\vue-loader-v16\\\\dist\\\\exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-38c53b73\"]])\n\nexport default __exports__"],"sourceRoot":""}